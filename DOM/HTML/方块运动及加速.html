<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>方块运动及加速</title>
    <style>
        div {
            width: 100px;
            height: 100px;
            background-color: green;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        button {
            width: 100px;
            height: 50px;
            background: linear-gradient(to left, #999, #000, #432, #fcc);
            position: fixed;
            right: 0;
            top: 50%;
            text-align: center;
            line-height: 50px;
            font-size: 20px;
            font-family: arial;
            color: white;
        }
    </style>
</head>

<body>
    <button>加速</button>
    <!-- <div></div> -->
    <script>
        // var div = document.getElementsByTagName("div")[0];
        // div.style.backgroundColor = "red";
        var div = document.createElement("div");
        document.body.appendChild(div);
        div.style.width = "100px";
        div.style.height = "100px";
        div.style.backgroundColor = "yellow";
        div.style.position = "absolute";
        div.style.left = "0";
        div.style.top = "0";
        // var time = new Date().getTime();
        var btn = document.getElementsByTagName("button")[0];
        var speed = 5;
        btn.onclick = function() {
            speed++;
        }
        document.onkeydown = function(e) {
                console.log(e);
                switch (e.which) {
                    case 38:
                        div.style.top = parseInt(div.style.top) - speed + "px";
                        break;
                    case 40:
                        div.style.top = parseInt(div.style.top) + speed + "px";
                        break;
                    case 37:
                        div.style.left = parseInt(div.style.left) - speed + "px";
                        break;
                    case 39:
                        div.style.left = parseInt(div.style.left) + speed + "px";
                        break;
                }
            }
            // setInterval(function() {
            //     div.style.left = parseInt(div.style.left) + 10 + "px";
            //     div.style.top = parseInt(div.style.top) + 10 + "px";
            // }, 10);
    </script>
</body>

</html>